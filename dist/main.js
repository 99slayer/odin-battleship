(()=>{"use strict";const e=e=>{for(let t=0;t<11;t+=1){let l=t,n=document.createElement("div");n.classList.add("grid-row"),n.setAttribute("id",`grid-row-${t}`),n.setAttribute("data-row-number",`${t}`);for(let e=0;e<11;e+=1){let t=document.createElement("div");t.classList.add("grid-cell"),t.setAttribute("id",`grid-cell-${e}-${l}`),t.setAttribute("data-cell-coordinate",`${e}-${l}`),t.style.border="1px solid black",n.appendChild(t)}e.appendChild(n)}(()=>{const t=[];e.childNodes.forEach((e=>{t.push(e.firstChild)}));let l=1;t.forEach((e=>{e.style.border="none","0-0"!==e.getAttribute("data-cell-coordinate")&&(e.textContent=`${l}`,l+=1)}))})(),(()=>{const t=e.firstChild.childNodes;let l=0;t.forEach((e=>{e.style.border="none","0-0"!==e.getAttribute("data-cell-coordinate")&&(e.textContent=`${String.fromCharCode(65+l)}`,l+=1)}))})()},t=(e,t=!1)=>{const l=e,n=(()=>{const e=[],t=[];return{attacks:t,place:t=>{let l=(e=>{let t=e,l=t.length,n=0;return{coordinates:t,hit:()=>{n+=1},isSunk:()=>l===n,getDamage:()=>n}})(t);return e.push(l),l},receiveAttack:l=>{if(t.includes(l))return;let n=e.findIndex((e=>e.coordinates.includes(l)));n>-1&&e[n].hit(),t.push(l)},fleetCoordinates:()=>{const t=[];for(let l=0;l<e.length;l+=1)t.push(e[l].coordinates);return t},isFleetSunk:()=>!!e.every((e=>e.isSunk()))}})();return{board:n,makeAttack:(e,l=null)=>{let n=l;t&&(n=((e,t=1)=>{const l=()=>Math.floor(10*Math.random())+65;let n=String.fromCharCode(l()),r=Math.floor(10*Math.random()+1),a=n+r;if(e.attacks.includes(a))do{n=String.fromCharCode(l()),r=Math.floor(10*Math.random()+1),a=n+r}while(e.attacks.includes(a));return a})(e)),e.attacks.includes(n)?console.log("square has already been hit."):e.receiveAttack(n)},getName:()=>l,getWins:()=>0}},l=document.getElementById("menu-multiplayer"),n=document.getElementById("menu-names");document.getElementById("menu-rules");let r=!1;const a=e=>{e.style.display="none"},d=e=>{e.style.display=null};let o,c;(()=>{const e=document.getElementById("single-player"),i=document.getElementById("two-player"),s=document.getElementById("player-one-name"),u=document.getElementById("start");e.addEventListener("click",(()=>{a(l),d(n),r=!1})),i.addEventListener("click",(()=>{a(l),d(n),r=!0})),u.addEventListener("click",(()=>{o=t(s.value),c=t("computer",!0),s.value="",a(n)}))})(),o.board.place(["A2","A3","A4"]),o.board.place(["E3","F3","G3"]),o.board.place(["A1","B1","C1","D1"]),o.board.place(["C10","D10","E10","F10"]),c.board.place(["A4","B4","C4"]),c.board.place(["A5","A6","A7"]),c.board.place(["E5","F5","G5","H5"]),c.board.place(["E6","E7","E8","E9"]),console.log("check check");const i=document.getElementById("computer-grid"),s=document.getElementById("player-grid");e(i),e(s)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUdsQixFQXBDeUIsR0NkMUJNLEVBQVU5QyxNQUFNRyxNQUFNLENBQUMsS0FBSyxLQUFLLE9BQ2pDMkMsRUFBVTlDLE1BQU1HLE1BQU0sQ0FBQyxLQUFLLEtBQUssT0FDakMyQyxFQUFVOUMsTUFBTUcsTUFBTSxDQUFDLEtBQUssS0FBSyxLQUFLLE9BQ3RDMkMsRUFBVTlDLE1BQU1HLE1BQU0sQ0FBQyxNQUFNLE1BQU0sTUFBTSxRQUV6QzRDLEVBQVUvQyxNQUFNRyxNQUFNLENBQUMsS0FBSyxLQUFLLE9BQ2pDNEMsRUFBVS9DLE1BQU1HLE1BQU0sQ0FBQyxLQUFLLEtBQUssT0FDakM0QyxFQUFVL0MsTUFBTUcsTUFBTSxDQUFDLEtBQUssS0FBSyxLQUFLLE9BQ3RDNEMsRUFBVS9DLE1BQU1HLE1BQU0sQ0FBQyxLQUFLLEtBQUssS0FBSyxPQ2pCdEMrQixRQUFRQyxJQUFJLGVBSVosTUFBTW1CLEVBQWUvRSxTQUFTZ0UsZUFBZSxpQkFDdkNnQixFQUFhaEYsU0FBU2dFLGVBQWUsZUFDM0NyRSxFQUFXb0YsR0FDWHBGLEVBQVdxRixFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vc3JjL0RPTS9jb21wb25lbnRzL2NyZWF0ZUdyaWQuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vc3JjL2ZhY3Rvcmllcy9jcmVhdGVQbGF5ZXIuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vc3JjL2ZhY3Rvcmllcy9jcmVhdGVHYW1lYm9hcmQuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vc3JjL2ZhY3Rvcmllcy9jcmVhdGVTaGlwLmpzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL3NyYy9ET00vaW50ZXJhY3Rpb24vbWVudS5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9zcmMvZ2FtZUxvb3AuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBjcmVhdGVHcmlkID0gKGdyaWQpID0+IHtcbiAgZm9yKGxldCBpPTA7aTwxMTtpKz0xKXtcbiAgICBsZXQgcm93ID0gaTtcbiAgICBsZXQgZ3JpZFJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGdyaWRSb3cuY2xhc3NMaXN0LmFkZCgnZ3JpZC1yb3cnKTtcbiAgICBncmlkUm93LnNldEF0dHJpYnV0ZSgnaWQnLGBncmlkLXJvdy0ke2l9YCk7XG4gICAgZ3JpZFJvdy5zZXRBdHRyaWJ1dGUoJ2RhdGEtcm93LW51bWJlcicsYCR7aX1gKTtcbiAgICAvL1BST0JBQkxZIERPTlQgTkVFRCBJRCBBTkQgREFUQSBBVFRSSUJVVEUsIEJVVCBJJ0xMIENPTUUgQkFDSyBUTyBUSElTLlxuICAgIGZvcihsZXQgaT0wO2k8MTE7aSs9MSl7XG4gICAgICBsZXQgY3VycmVudFJvdyA9IHJvd1xuICAgICAgbGV0IGdyaWRDZWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBncmlkQ2VsbC5jbGFzc0xpc3QuYWRkKCdncmlkLWNlbGwnKTtcbiAgICAgIGdyaWRDZWxsLnNldEF0dHJpYnV0ZSgnaWQnLGBncmlkLWNlbGwtJHtpfS0ke3Jvd31gKTtcbiAgICAgIGdyaWRDZWxsLnNldEF0dHJpYnV0ZSgnZGF0YS1jZWxsLWNvb3JkaW5hdGUnLGAke2l9LSR7cm93fWApO1xuICAgICAgZ3JpZENlbGwuc3R5bGUuYm9yZGVyID0gJzFweCBzb2xpZCBibGFjayc7XG4gICAgICBncmlkUm93LmFwcGVuZENoaWxkKGdyaWRDZWxsKTtcbiAgICB9O1xuICAgIGdyaWQuYXBwZW5kQ2hpbGQoZ3JpZFJvdyk7XG4gIH07XG5cbiAgY29uc3QgbGFiZWxSb3dzID0gKCkgPT4ge1xuICAgIGNvbnN0IG5vZGVMaXN0ID0gW107XG4gICAgbGV0IHJvd3MgPSBncmlkLmNoaWxkTm9kZXM7XG5cbiAgICByb3dzLmZvckVhY2goKGUpPT57XG4gICAgICBub2RlTGlzdC5wdXNoKGUuZmlyc3RDaGlsZCk7XG4gICAgfSk7XG5cbiAgICBsZXQgaSA9IDE7XG4gICAgbm9kZUxpc3QuZm9yRWFjaCgoZSk9PntcbiAgICAgIGUuc3R5bGUuYm9yZGVyID0gJ25vbmUnO1xuICAgICAgaWYoZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtY2VsbC1jb29yZGluYXRlJykgPT09ICcwLTAnKXtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfTtcbiAgICAgIGUudGV4dENvbnRlbnQgPSBgJHtpfWA7XG4gICAgICBpICs9IDE7XG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3QgbGFiZWxDb2x1bW5zID0gKCkgPT4ge1xuICAgIGNvbnN0IG5vZGVMaXN0ID0gZ3JpZC5maXJzdENoaWxkLmNoaWxkTm9kZXM7XG4gICAgbGV0IGkgPSAwXG4gICAgbm9kZUxpc3QuZm9yRWFjaCgoZSk9PntcbiAgICAgIGUuc3R5bGUuYm9yZGVyID0gJ25vbmUnO1xuICAgICAgY29uc3QgY2VsbENvb3JkaW5hdGUgPSBlLmdldEF0dHJpYnV0ZSgnZGF0YS1jZWxsLWNvb3JkaW5hdGUnKTtcbiAgICAgIGlmKGNlbGxDb29yZGluYXRlID09PSAnMC0wJyl7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH07XG4gICAgICBlLnRleHRDb250ZW50ID0gYCR7U3RyaW5nLmZyb21DaGFyQ29kZSg2NSArIGkpfWA7XG4gICAgICBpICs9IDE7XG4gICAgfSk7XG4gIH07XG5cbiAgbGFiZWxSb3dzKCk7XG4gIGxhYmVsQ29sdW1ucygpO1xufTtcbiIsImltcG9ydCB7IGNyZWF0ZUdhbWVib2FyZCB9IGZyb20gXCIuL2NyZWF0ZUdhbWVib2FyZFwiO1xuXG5leHBvcnQgY29uc3QgY3JlYXRlUGxheWVyID0gKHBsYXllck5hbWUsaXNDb21wID0gZmFsc2UpID0+e1xuICBjb25zdCBuYW1lID0gcGxheWVyTmFtZTtcbiAgY29uc3QgYm9hcmQgPSBjcmVhdGVHYW1lYm9hcmQoKTtcbiAgbGV0IGlzVHVybiA9IGZhbHNlO1xuICBsZXQgd2lucyA9IDA7XG4gIFxuICBjb25zdCBtYWtlQXR0YWNrID0gKGVuZW15Qm9hcmQsY29vcmRpbmF0ZXMgPSBudWxsKSA9PiB7XG4gICAgbGV0IHRhcmdldCA9IGNvb3JkaW5hdGVzO1xuXG4gICAgaWYoaXNDb21wKXtcbiAgICAgIHRhcmdldCA9IGdlbmVyYXRlQXR0YWNrKGVuZW15Qm9hcmQpO1xuICAgIH07XG5cbiAgICBpZihlbmVteUJvYXJkLmF0dGFja3MuaW5jbHVkZXModGFyZ2V0KSl7XG4gICAgICBjb25zb2xlLmxvZygnc3F1YXJlIGhhcyBhbHJlYWR5IGJlZW4gaGl0LicpO1xuICAgICAgcmV0dXJuO1xuICAgIH07XG4gICAgZW5lbXlCb2FyZC5yZWNlaXZlQXR0YWNrKHRhcmdldCk7XG4gIH07XG5cbiAgLy93ZSdsbCBwbGFjZSA1IHNoaXBzIGJ5IGRlZmF1bHQuXG4gIGNvbnN0IHBsYWNlRmxlZXQgPSAoKSA9PiB7XG5cbiAgfTtcbiAgXG4gIGNvbnN0IGdlbmVyYXRlQXR0YWNrID0gKGVuZW15Qm9hcmQsZ2VuID0gMSkgPT4ge1xuICAgIC8vY291bGQgcG90ZW50aWFsbHkgbWFrZSBpdCAnc21hcnRlcicgbGF0ZXIgb24gYWthLCBvbmNlIGl0IGxhbmRzIGEgaGl0LCBmb2N1cyBvbiB0aGF0IGFyZWEgdW50aWwgdGhlIHNoaXAgaXMgc3Vuay5cbiAgICBjb25zdCBnZW5lcmF0ZUNoYXJDb2RlID0gKCkgPT4ge1xuICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICg3NCAtIDY1ICsgMSkgKSArIDY1O1xuICAgIH07XG5cbiAgICBsZXQgbGV0dGVyID0gU3RyaW5nLmZyb21DaGFyQ29kZShnZW5lcmF0ZUNoYXJDb2RlKCkpO1xuICAgIGxldCBudW1iZXIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMCArIDEpO1xuICAgIGxldCB0YXJnZXQgPSBsZXR0ZXIgKyBudW1iZXI7XG5cbiAgICAvL2NoZWNrcyBpZiBzcXVhcmVzIGhhdmUgYWxyZWFkeSBiZWVuIGhpdFxuICAgIGlmKGVuZW15Qm9hcmQuYXR0YWNrcy5pbmNsdWRlcyh0YXJnZXQpKXtcbiAgICAgIGRve1xuICAgICAgICBsZXR0ZXIgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGdlbmVyYXRlQ2hhckNvZGUoKSk7XG4gICAgICAgIG51bWJlciA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwICsgMSk7XG4gICAgICAgIHRhcmdldCA9IGxldHRlciArIG51bWJlcjtcbiAgICAgIH1cbiAgICAgIHdoaWxlIChlbmVteUJvYXJkLmF0dGFja3MuaW5jbHVkZXModGFyZ2V0KSk7XG4gICAgfTtcblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH07XG5cbiAgY29uc3QgZ2V0TmFtZSA9ICgpID0+IHtcbiAgICByZXR1cm4gbmFtZTtcbiAgfTtcblxuICBjb25zdCBnZXRXaW5zID0gKCkgPT4ge1xuICAgIHJldHVybiB3aW5zO1xuICB9O1xuXG4gIHJldHVybiB7IGJvYXJkLCBtYWtlQXR0YWNrLCBnZXROYW1lLCBnZXRXaW5zIH07XG59O1xuIiwiLy9nYW1lYm9hcmQgc2hvdWxkIGJlIDEweDEwIChBLUopIGFuZCAoMS0xMClcblxuaW1wb3J0IHsgY3JlYXRlU2hpcCB9IGZyb20gXCIuL2NyZWF0ZVNoaXBcIjtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUdhbWVib2FyZCA9ICgpID0+e1xuICBjb25zdCBzaGlwcyA9IFtdO1xuICBjb25zdCBhdHRhY2tzID0gW107XG5cbiAgZnVuY3Rpb24gT0xEcGxhY2UoYXhpcyxzdGFydCxzaXplKXtcbiAgICAvL1ggPT4gaG9yaXpvbnRhbCArIGxldHRlcnNcbiAgICAvL1kgPT4gdmVydGljYWwgKyBudW1iZXJzXG4gICAgaWYoIWF4aXN8fCFzdGFydHx8IXNpemUpe1xuICAgICAgY29uc29sZS5sb2coJ3BhcmFtZXRlciBtaXNzaW5nJyk7XG4gICAgICByZXR1cm47XG4gICAgfTtcblxuICAgIGxldCBzdGFydEFyciA9IHN0YXJ0LnNwbGl0KCcnKTtcbiAgICBsZXQgeCA9IHN0YXJ0QXJyLnNsaWNlKDAsMSk7XG4gICAgbGV0IHkgPSBzdGFydEFyci5zbGljZSgxKS5qb2luKCcnKTtcblxuICAgIC8vdGhyb3dzIGVycm9yIGlmIHNoaXBzIHdvdWxkIGJlIHBsYWNlZCBvdXQgb2YgYm91bmRzXG4gICAgLy90aHJvd3MgZXJyb3JzIGZvciBub3cgbWF5YmUgY2hhbmdlIGxhdGVyKipcbiAgICAvL1RIRSBDT09SRElOQVRFUyBDQU4gQkUgQ0hFQ0tFRCBCRUZPUkUgVEhFWSBBUkUgUEFTU0VEIFRPIFBMQUNFKipcbiAgICBpZigoeFswXS5jaGFyQ29kZUF0KDApK3NpemUpPjc0KXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignc2hpcCBleGNlZWRzIHRoZSB4IGF4aXMgb2YgdGhlIGdhbWVib2FyZC4nKTtcbiAgICB9IGVsc2UgaWYgKChwYXJzZUludCh5KStzaXplKT4xMCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3NoaXAgZXhjZWVkcyB0aGUgeSBheGlzIG9mIHRoZSBnYW1lYm9hcmQuJyk7XG4gICAgfTtcblxuICAgIC8vQ2hlY2sgaWYgcGxhY2VtZW50IGNvb3JkaW5hdGVzIGNvbmZsaWN0IHdpdGggYW55IG90aGVyIHNoaXBzXG5cbiAgICBmdW5jdGlvbiBjcmVhdGVDb29yZGluYXRlcyhzaGlwQXhpcyxzaGlwU2l6ZSl7XG4gICAgICBsZXQgY29vcmRpbmF0ZXMgPSBbXTtcblxuICAgICAgaWYoc2hpcEF4aXMgPT09ICdYJyl7XG4gICAgICAgIC8vaW5jcmVtZW50IGxldHRlcnNcbiAgICAgICAgZm9yKGxldCBpPTA7aTxzaGlwU2l6ZTtpKz0xKXtcbiAgICAgICAgICBsZXQgbmV3WCA9IFN0cmluZy5mcm9tQ2hhckNvZGUoeFswXS5jaGFyQ29kZUF0KDApK2kpO1xuICAgICAgICAgIGNvb3JkaW5hdGVzLnB1c2goYCR7bmV3WCArIHl9YCk7XG4gICAgICAgIH07XG4gICAgICB9IGVsc2UgaWYgKHNoaXBBeGlzID09PSAnWScpe1xuICAgICAgICAvL2luY3JlbWVudCBudW1iZXJzXG4gICAgICAgIGZvcihsZXQgaT0wO2k8c2hpcFNpemU7aSs9MSl7XG4gICAgICAgICAgY29vcmRpbmF0ZXMucHVzaChgJHt4ICsgKHBhcnNlSW50KHkpICsgaSl9YCk7XG4gICAgICAgIH07XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gY29vcmRpbmF0ZXM7XG4gICAgfTtcblxuXG4gICAgbGV0IHNoaXAgPSBjcmVhdGVTaGlwKGNyZWF0ZUNvb3JkaW5hdGVzKGF4aXMsc2l6ZSkpO1xuICAgIHNoaXBzLnB1c2goc2hpcCk7XG4gIH07IC8vT0xEIFBMQUNFIEZVTkNUSU9OLCBTVElMTCBVU0VGVUwgQ09ERSBJTiBIRVJFIEZPUiBMQVRFUioqXG5cbiAgY29uc3QgcGxhY2UgPSAoY29vcmRpbmF0ZXMpID0+IHtcbiAgICBsZXQgbmV3U2hpcCA9IGNyZWF0ZVNoaXAoY29vcmRpbmF0ZXMpO1xuICAgIHNoaXBzLnB1c2gobmV3U2hpcCk7XG4gICAgcmV0dXJuIG5ld1NoaXA7XG4gIH1cblxuICBjb25zdCByZWNlaXZlQXR0YWNrID0gKHRhcmdldCkgPT4ge1xuICAgIGlmKGF0dGFja3MuaW5jbHVkZXModGFyZ2V0KSl7XG4gICAgICByZXR1cm47XG4gICAgfTtcblxuICAgIGxldCBzaGlwSW5kZXggPSBzaGlwcy5maW5kSW5kZXgoKHNoaXApPT57IHJldHVybiBzaGlwLmNvb3JkaW5hdGVzLmluY2x1ZGVzKHRhcmdldCl9KTtcblxuICAgIGlmKHNoaXBJbmRleD4tMSl7XG4gICAgICBzaGlwc1tzaGlwSW5kZXhdLmhpdCgpO1xuICAgIH07XG5cbiAgICBhdHRhY2tzLnB1c2godGFyZ2V0KTtcbiAgICAvLyByZXR1cm4gaWYgc2hpcCB3YXMgaGl0L3doaWNoIHNoaXAgd2FzIGhpdD9cbiAgfTtcbiAgXG4gIGNvbnN0IGZsZWV0Q29vcmRpbmF0ZXMgPSAoKSA9PntcbiAgICBjb25zdCBhcnIgPSBbXTtcbiAgICBmb3IobGV0IGk9MDtpPHNoaXBzLmxlbmd0aDtpKz0xKXtcbiAgICAgIGFyci5wdXNoKHNoaXBzW2ldLmNvb3JkaW5hdGVzKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIGFycjtcbiAgfVxuXG4gIGNvbnN0IGlzRmxlZXRTdW5rID0gKCkgPT4ge1xuICAgIGlmKHNoaXBzLmV2ZXJ5KHNoaXAgPT4gc2hpcC5pc1N1bmsoKSkpe1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICB9O1xuXG4gIHJldHVybiB7IGF0dGFja3MsIHBsYWNlLCByZWNlaXZlQXR0YWNrLCBmbGVldENvb3JkaW5hdGVzLCBpc0ZsZWV0U3VuayB9O1xufTsiLCJleHBvcnQgY29uc3QgY3JlYXRlU2hpcCA9IChjb29yZGluYXRlQXJyYXkpID0+e1xuICBsZXQgY29vcmRpbmF0ZXMgPSBjb29yZGluYXRlQXJyYXk7XG4gIGxldCBsZW5ndGggPSBjb29yZGluYXRlcy5sZW5ndGg7XG4gIGxldCBkYW1hZ2UgPSAwO1xuXG4gIGNvbnN0IGhpdCA9ICgpID0+IHtcbiAgICBkYW1hZ2UgKz0gMTtcbiAgfTtcblxuICBjb25zdCBpc1N1bmsgPSAoKSA9PiB7XG4gICAgaWYobGVuZ3RoID09PSBkYW1hZ2Upe1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICB9O1xuXG4gIGNvbnN0IGdldERhbWFnZSA9ICgpID0+IHtcbiAgICByZXR1cm4gZGFtYWdlO1xuICB9O1xuXG4gIHJldHVybiB7IGNvb3JkaW5hdGVzLCBoaXQsIGlzU3VuaywgZ2V0RGFtYWdlIH07XG59O1xuIiwiLy90aGlzIGZpbGUgaXMgdGhlIG1vZHVsZSwgbm8gbmVlZCB0byBtYWtlIGEgXCJtb2R1bGUgb2JqZWN0XCJcbi8vbWVudSBtdWx0aXBsYXllclxuLy9tZW51IG5hbWVzXG4vL21lbnUgcnVsZXNcbmltcG9ydCB7IGNyZWF0ZVBsYXllciB9IGZyb20gJy4vLi4vLi4vZmFjdG9yaWVzL2NyZWF0ZVBsYXllcic7XG5cbmNvbnN0IG1lbnVNdWx0aXBsYXllciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZW51LW11bHRpcGxheWVyJyk7XG5jb25zdCBtZW51TmFtZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWVudS1uYW1lcycpO1xuY29uc3QgbWVudVJ1bGVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lbnUtcnVsZXMnKTtcblxubGV0IG11bHRpcGxheWVyID0gZmFsc2U7XG5cbmNvbnN0IGhpZGUgPSAobWVudSkgPT4ge1xuICBtZW51LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG59O1xuXG5jb25zdCBzaG93ID0gKG1lbnUpID0+IHtcbiBtZW51LnN0eWxlLmRpc3BsYXkgPSBudWxsO1xufTtcblxuZXhwb3J0IGxldCBwbGF5ZXJPbmUsIHBsYXllclR3bztcblxuLy9tZW51IGludGVyYWN0aW9uIGV2ZW50c1xuZXhwb3J0IGNvbnN0IG1lbnVFdmVudHMgPSAoKCkgPT4ge1xuICBjb25zdCBzaW5nbGVQbGF5ZXJCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2luZ2xlLXBsYXllcicpO1xuICBjb25zdCB0d29QbGF5ZXJCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndHdvLXBsYXllcicpO1xuICBcbiAgY29uc3QgcGxheWVyT25lTmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwbGF5ZXItb25lLW5hbWUnKTtcbiAgLy8gY29uc3QgcGxheWVyVHdvTmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwbGF5ZXItdHdvLW5hbWUnKTtcbiAgY29uc3Qgc3RhcnRCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhcnQnKTtcblxuICBzaW5nbGVQbGF5ZXJCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCgpPT57XG4gICAgaGlkZShtZW51TXVsdGlwbGF5ZXIpO1xuICAgIHNob3cobWVudU5hbWVzKTtcbiAgICBtdWx0aXBsYXllciA9IGZhbHNlO1xuICB9KTtcblxuICB0d29QbGF5ZXJCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCgpPT57XG4gICAgaGlkZShtZW51TXVsdGlwbGF5ZXIpO1xuICAgIHNob3cobWVudU5hbWVzKTtcbiAgICBtdWx0aXBsYXllciA9IHRydWU7XG4gIH0pO1xuXG4gIHN0YXJ0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywoKT0+e1xuICAgIC8vKHNob3VsZCB0cmlnZ2VyIG9uIGhpdHRpbmcgZW50ZXIgYWxzbywgbm90IGp1c3QgY2xpY2suKVxuICAgIC8vY3JlYXRlIHBsYXllcnMgd2l0aCBuYW1lc1xuXG4gICAgLy8gaWYoIW11bHRpcGxheWVyKXtcbiAgICAvLyAgIHBsYXllclR3byA9ICdjb21wdXRlcic7XG4gICAgLy8gfTtcblxuICAgIHBsYXllck9uZSA9IGNyZWF0ZVBsYXllcihwbGF5ZXJPbmVOYW1lLnZhbHVlKTtcbiAgICBwbGF5ZXJUd28gPSBjcmVhdGVQbGF5ZXIoJ2NvbXB1dGVyJywgdHJ1ZSk7XG5cbiAgICBwbGF5ZXJPbmVOYW1lLnZhbHVlID0gJyc7XG4gICAgLy8gcGxheWVyVHdvTmFtZS52YWx1ZSA9ICcnO1xuICAgIGhpZGUobWVudU5hbWVzKTtcbiAgfSk7XG4gIFxufSkoKTsiLCJpbXBvcnQgeyBjcmVhdGVHYW1lYm9hcmQgfSBmcm9tIFwiLi9mYWN0b3JpZXMvY3JlYXRlR2FtZWJvYXJkXCI7XG5pbXBvcnQgeyBwbGF5ZXJPbmUsIHBsYXllclR3byB9IGZyb20gXCIuL0RPTS9pbnRlcmFjdGlvbi9tZW51XCI7XG5cbi8vY291bGQgcG90ZW50aWFsbHkgaW1wbGVtZW50IHNvbWV0aGluZyBsYXRlciBmb3IgdHdvIHBsYXllci5cblxuLy9zaW5nbGVwbGF5ZXIvbXVsdGlwbGF5ZXIgbWVudVxuLy9jaG9vc2UgcGxheWVyIG5hbWVzXG5cbi8vcGxhY2Ugc2hpcHMuIHdpdGggcHJlZGV0ZXJtaW5lZCBjb29yZGluYXRlcyBmb3Igbm93LlxucGxheWVyT25lLmJvYXJkLnBsYWNlKFsnQTInLCdBMycsJ0E0J10pO1xucGxheWVyT25lLmJvYXJkLnBsYWNlKFsnRTMnLCdGMycsJ0czJ10pO1xucGxheWVyT25lLmJvYXJkLnBsYWNlKFsnQTEnLCdCMScsJ0MxJywnRDEnXSk7XG5wbGF5ZXJPbmUuYm9hcmQucGxhY2UoWydDMTAnLCdEMTAnLCdFMTAnLCdGMTAnXSk7XG5cbnBsYXllclR3by5ib2FyZC5wbGFjZShbJ0E0JywnQjQnLCdDNCddKTtcbnBsYXllclR3by5ib2FyZC5wbGFjZShbJ0E1JywnQTYnLCdBNyddKTtcbnBsYXllclR3by5ib2FyZC5wbGFjZShbJ0U1JywnRjUnLCdHNScsJ0g1J10pO1xucGxheWVyVHdvLmJvYXJkLnBsYWNlKFsnRTYnLCdFNycsJ0U4JywnRTknXSk7XG4vL2RlY2lkZSB3aG8gZ29lcyBmaXJzdFxuXG4vL1YgTE9PUCBWXG4vL2FsdGVybmF0ZSB0dXJucyB1bnRpbCB0aGVyZSdzIGEgd2lubmVyXG4vL2FkZCB3aW4gdG8gdGhhdCBwbGF5ZXJcbi8vbG9vc2luZyBwbGF5ZXIgZ2V0cyB0byBnbyBmaXJzdFxuXG4vL2lmIGltcGxlbWVudGVkIHlvdSBzaG91bGQgYmUgYWJsZSB0byByZXN0YXJ0IGEgZ2FtZSBvciBjaGFuZ2UgdGhlIHJ1bGVzIGF0IGFueXRpbWVcbiIsImNvbnNvbGUubG9nKCdjaGVjayBjaGVjaycpXG5pbXBvcnQgeyBjcmVhdGVHcmlkIH0gZnJvbSBcIi4vRE9NL2NvbXBvbmVudHMvY3JlYXRlR3JpZFwiXG5pbXBvcnQgeyBtZW51RXZlbnRzIH0gZnJvbSBcIi4vRE9NL2ludGVyYWN0aW9uL21lbnVcIjtcbmltcG9ydCAnLi9nYW1lTG9vcCc7XG5jb25zdCBjb21wdXRlckdyaWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29tcHV0ZXItZ3JpZCcpO1xuY29uc3QgcGxheWVyR3JpZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwbGF5ZXItZ3JpZCcpO1xuY3JlYXRlR3JpZChjb21wdXRlckdyaWQpO1xuY3JlYXRlR3JpZChwbGF5ZXJHcmlkKTsiXSwibmFtZXMiOlsiY3JlYXRlR3JpZCIsImdyaWQiLCJpIiwicm93IiwiZ3JpZFJvdyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsInNldEF0dHJpYnV0ZSIsImdyaWRDZWxsIiwic3R5bGUiLCJib3JkZXIiLCJhcHBlbmRDaGlsZCIsIm5vZGVMaXN0IiwiY2hpbGROb2RlcyIsImZvckVhY2giLCJlIiwicHVzaCIsImZpcnN0Q2hpbGQiLCJnZXRBdHRyaWJ1dGUiLCJ0ZXh0Q29udGVudCIsImxhYmVsUm93cyIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsImxhYmVsQ29sdW1ucyIsImNyZWF0ZVBsYXllciIsInBsYXllck5hbWUiLCJpc0NvbXAiLCJuYW1lIiwiYm9hcmQiLCJzaGlwcyIsImF0dGFja3MiLCJwbGFjZSIsImNvb3JkaW5hdGVzIiwibmV3U2hpcCIsImNvb3JkaW5hdGVBcnJheSIsImxlbmd0aCIsImRhbWFnZSIsImhpdCIsImlzU3VuayIsImdldERhbWFnZSIsImNyZWF0ZVNoaXAiLCJyZWNlaXZlQXR0YWNrIiwidGFyZ2V0IiwiaW5jbHVkZXMiLCJzaGlwSW5kZXgiLCJmaW5kSW5kZXgiLCJzaGlwIiwiZmxlZXRDb29yZGluYXRlcyIsImFyciIsImlzRmxlZXRTdW5rIiwiZXZlcnkiLCJjcmVhdGVHYW1lYm9hcmQiLCJtYWtlQXR0YWNrIiwiZW5lbXlCb2FyZCIsImdlbiIsImdlbmVyYXRlQ2hhckNvZGUiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJsZXR0ZXIiLCJudW1iZXIiLCJnZW5lcmF0ZUF0dGFjayIsImNvbnNvbGUiLCJsb2ciLCJnZXROYW1lIiwiZ2V0V2lucyIsIm1lbnVNdWx0aXBsYXllciIsImdldEVsZW1lbnRCeUlkIiwibWVudU5hbWVzIiwibXVsdGlwbGF5ZXIiLCJoaWRlIiwibWVudSIsImRpc3BsYXkiLCJzaG93IiwicGxheWVyT25lIiwicGxheWVyVHdvIiwic2luZ2xlUGxheWVyQnRuIiwidHdvUGxheWVyQnRuIiwicGxheWVyT25lTmFtZSIsInN0YXJ0QnRuIiwiYWRkRXZlbnRMaXN0ZW5lciIsInZhbHVlIiwiY29tcHV0ZXJHcmlkIiwicGxheWVyR3JpZCJdLCJzb3VyY2VSb290IjoiIn0=